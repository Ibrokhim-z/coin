<template>
  <div class="admin-layout">
    <el-aside width="220px" class="sidebar">
      <div class="logo">Coin System ü™ô</div>
      <el-menu
        router
        :default-active="$route.path"
        background-color="#304156"
        text-color="#bfcbd9"
        active-text-color="#409EFF"
      >
        <el-menu-item index="/admin">
          <el-icon><User /></el-icon>
          <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
        </el-menu-item>
        
        <el-menu-item index="/admin/groups">
          <el-icon><Calendar /></el-icon>
          <span>–ì—Ä—É–ø–ø—ã</span>
        </el-menu-item>

        <el-menu-item index="/admin/shop">
          <el-icon><Goods /></el-icon>
          <span>–ú–∞–≥–∞–∑–∏–Ω</span>
        </el-menu-item>
      </el-menu>
    </el-aside>

    <el-container>
      <el-header class="header">
        <span>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</span>
        <el-button type="danger" size="small" @click="logout">–í—ã—Ö–æ–¥</el-button>
      </el-header>
      
      <el-main>
        <router-view />
      </el-main>
    </el-container>
  </div>
</template>

<script setup>
import { useUserStore } from '@/stores/user';
import { useRouter } from 'vue-router';

const userStore = useUserStore();
const router = useRouter();

const logout = () => {
  userStore.logout();
  router.push('/login');
};
</script>

<style scoped>
/* src/components/admin/AdminLayout.vue -> <style> */

.admin-layout { display: flex; height: 100vh; background: #f4f7fc; }

/* –°–∞–π–¥–±–∞—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º */
.sidebar {
  background: linear-gradient(180deg, #2c3e50 0%, #1a252f 100%) !important;
  color: white;
  border-right: none;
  box-shadow: 4px 0 20px rgba(0,0,0,0.05);
}

.logo {
  padding: 30px 20px;
  font-size: 20px;
  font-weight: 800;
  color: white;
  text-align: center;
  letter-spacing: 1px;
  /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ª–æ–≥–æ */
  background: linear-gradient(to right, #c73bd4, #46e37b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* –ú–µ–Ω—é items */
.el-menu { border-right: none !important; background: transparent !important; }

.el-menu-item {
  color: #a0aec0 !important;
  margin: 5px 10px;
  border-radius: 8px;
  transition: all 0.3s;
}

.el-menu-item:hover {
  background: rgba(255,255,255,0.1) !important;
  color: white !important;
}

/* –ê–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é - –¢–í–û–ô –§–ò–û–õ–ï–¢–û–í–´–ô */
.el-menu-item.is-active {
  background: var(--primary-color) !important; /* #c73bd4 */
  color: white !important;
  box-shadow: 0 4px 12px rgba(199, 59, 212, 0.4);
  font-weight: 600;
}

.header {
  background: white;
  border-bottom: 1px solid #eee;
  display: flex; justify-content: space-between; align-items: center;
  padding: 0 30px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.02);
}
</style>